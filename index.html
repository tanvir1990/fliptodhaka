<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Product Order Form - FlipToDhaka</title>

  <!-- Styles -->
  <link rel="stylesheet" href="style.css">

  <!-- Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>

  <!-- Main Script -->
  <script src="script.js" defer></script>
</head>
<body>
  <div class="container">
    <h1 class="page-title">Product Order Form</h1>

    <!-- Exchange Rate Input -->
    <div class="exchange">
      <label>
        Exchange Rate (1 CAD = 
        <input type="number" id="rate" value="95" min="1"> BDT)
      </label>
    </div>

    <!-- Controls Row -->
    <div class="controls-row">
      <!-- Category Filter -->
      <div class="controls filter-row">
        <label for="category-filter">Filter by Category:</label>
        <select id="category-filter">
          <option value="all">All</option>
        </select>
      </div>

      <!-- Sort Controls -->
      <div class="controls sort-row">
        <label for="sort-by">Sort by:</label>
        <select id="sort-by">
          <option value="none">None</option>
          <option value="price-cad-low">Price (CAD): Low to High</option>
          <option value="price-cad-high">Price (CAD): High to Low</option>
          <option value="price-bdt-low">Price (BDT): Low to High</option>
          <option value="price-bdt-high">Price (BDT): High to Low</option>
          <option value="weight-low">Weight: Low to High</option>
          <option value="weight-high">Weight: High to Low</option>
        </select>
      </div>

      <!-- View Style -->
      <div class="controls view-row">
        <label for="view-style">View Style:</label>
        <select id="view-style">
          <option value="grid">Tiles</option>
          <option value="thumbnails">Thumbnails</option>
          <option value="list">List</option>
        </select>
      </div>
    </div>

    <!-- Product List Container -->
    <div id="product-list" class="product-list grid"></div>

    <!-- Order Form -->
    <form id="order-form">
      <h2>Customer Details</h2>
      <input type="text" id="name" placeholder="Full Name" required>
      <input type="tel" id="phone" placeholder="Phone Number" required>
      <input type="email" id="email" placeholder="Email" required>
      <select id="delivery">
        <option value="pickup">Pickup</option>
        <option value="hotel">Deliver to Hotel (6pm to 12am)</option>
      </select>
      <button type="submit">Submit Order</button>
      <!-- Inline status messages for debugging -->
      <div id="order-status"></div>
    </form>
  </div>

  <!-- Sticky Cart -->
  <div id="cart-summary" class="sticky-cart">
    <div class="cart-header">
      <span>Cart Summary</span>
      <button id="collapse-cart-btn">â–²</button>
    </div>
    <div class="cart-content">
      <div class="cart-grid">
        <div>Total Items: <span id="cart-total-items">0</span></div>
        <div>Total Weight: <span id="cart-total-weight">0</span> kg</div>
        <div>Total (CAD): <span id="cart-total-cad">0</span></div>
        <div>Total (BDT): <span id="cart-total-bdt">0</span></div>
      </div>
      <button id="view-cart-btn">View Cart</button>
    </div>
  </div>

  <!-- Cart Modal -->
  <div id="cart-modal" class="cart-modal">
    <div class="modal-content">
      <h2>Your Cart</h2>
      <div id="cart-modal-items"></div>
      <div class="cart-modal-totals">
        <p>Total Items: <span id="modal-total-items">0</span></p>
        <p>Total Weight: <span id="modal-total-weight">0</span> kg</p>
        <p>Total (CAD): <span id="modal-total-cad">0</span></p>
        <p>Total (BDT): <span id="modal-total-bdt">0</span></p>
      </div>
      <button id="close-cart-btn">Close</button>
    </div>
  </div>
</body>
</html>
