<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Product Order Form - FlipToDhaka</title>

  <!-- Styles -->
  <link rel="stylesheet" href="style.css">

  <!-- Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>

  <!-- Main Script -->
  <script src="script.js" defer></script>
</head>
<body>
  <div class="container">
    <h1 class="page-title">Product Order Form</h1>

    <!-- Exchange Rate Input -->
    <div class="exchange">
      <label>
        Exchange Rate (1 CAD =
        <input type="number" id="rate" value="95" min="1"> BDT)
      </label>
    </div>

    <!-- Controls Row -->
    <div class="controls-row">
      <!-- Category Filter -->
      <div class="controls filter-row">
        <label for="category-filter">Filter by Category:</label>
        <select id="category-filter">
          <option value="all">All</option>
        </select>
      </div>

      <!-- Sort Controls -->
      <div class="controls sort-row">
        <label for="sort-by">Sort by:</label>
        <select id="sort-by">
          <option value="none">None</option>
          <option value="price-cad-low">Price (CAD): Low to High</option>
          <option value="price-cad-high">Price (CAD): High to Low</option>
          <option value="price-bdt-low">Price (BDT): Low to High</option>
          <option value="price-bdt-high">Price (BDT): High to Low</option>
          <option value="weight-low">Weight: Low to High</option>
          <option value="weight-high">Weight: High to Low</option>
        </select>
      </div>

      <!-- View Style -->
      <div class="controls view-row">
        <label for="view-style">View Style:</label>
        <select id="view-style">
          <option value="grid">Tiles</option>
          <option value="thumbnails" selected>Thumbnails</option>
          <option value="list">List</option>
        </select>
      </div>
    </div>

    <!-- Product List Container -->
    <div id="product-list" class="product-list thumbnails"></div>

  </div>

  <!-- Sticky Cart -->
  <div id="cart-summary" class="sticky-cart">
    <div class="cart-header">
      <span>Cart Summary</span>
      <button id="collapse-cart-btn">â–²</button>
    </div>
    <div class="cart-content">
      <div class="cart-grid">
        <div>Total Items: <span id="cart-total-items">0</span></div>
        <div>Total Weight: <span id="cart-total-weight">0</span> kg</div>
        <div>Total (CAD): <span id="cart-total-cad">0</span></div>
        <div>Total (BDT): <span id="cart-total-bdt">0</span></div>
      </div>
      <button id="view-cart-btn">View Cart</button>
    </div>
  </div>

  <!-- Cart Modal -->
  <div id="cart-modal" class="cart-modal" aria-hidden="true" role="dialog">
    <div class="modal-content">
      <h2>Your Cart</h2>
      <div id="cart-modal-items"></div>

      <div class="cart-modal-totals">
        <p>Total Items: <span id="modal-total-items">0</span></p>
        <p>Total Weight: <span id="modal-total-weight">0</span> kg</p>
        <p>Total (CAD): <span id="modal-total-cad">0</span></p>
        <p>Total (BDT): <span id="modal-total-bdt">0</span></p>
      </div>

      <div class="modal-actions">
        <button id="close-cart-btn">Close</button>
        <button id="proceed-order-btn">Proceed to Order Confirmation</button>
      </div>
    </div>
  </div>

  <!-- REVIEW ORDER Modal -->
  <div id="review-modal" class="cart-modal" aria-hidden="true" role="dialog">
    <div class="modal-content">
      <h2>Review Order</h2>

      <!-- Order summary -->
      <div id="review-order-summary">
        <div id="review-items"></div>
        <div class="review-totals">
          <p>Total Items: <span id="review-total-items">0</span></p>
          <p>Total Weight: <span id="review-total-weight">0</span> kg</p>
          <p>Total (CAD): <span id="review-total-cad">0</span></p>
          <p>Total (BDT): <span id="review-total-bdt">0</span></p>
        </div>
      </div>

      <hr/>

      <!-- Order Form -->
      <form id="review-order-form">
        <h3>Customer Details</h3>
        <label for="review-name">Full Name:</label>
        <input type="text" id="review-name" name="name" required>

        <label for="review-phone">Phone <small>(BD or CDN)</small>:</label>
        <input type="text" id="review-phone" name="phone" required>

        <label for="review-email">Email Address:</label>
        <input type="email" id="review-email" name="email" required>

        <label for="review-delivery">Delivery Option:</label>
        <select id="review-delivery" name="delivery" required>
          <option value="Delivery To Hotel">Delivery To Hotel</option>
          <option value="pickup">Pickup</option>
        </select>

        <label for="review-delivery-date">Delivery Date:</label>
        <input type="date" id="review-delivery-date" name="delivery-date" required>

        <label for="review-delivery-time">Delivery Time:</label>
        <input type="time" id="review-delivery-time" name="delivery-time" required>
        <small style="display:block;color:#555;font-size:12px;margin-bottom:8px;">
          Delivery available between 6pm-12am. Meet at Hotel Lobby.
        </small>

        <div class="modal-actions">
          <button type="button" id="back-to-cart-btn">Back to Cart</button>
          <button type="submit" id="confirm-order-btn">Proceed to Order Confirmation</button>
        </div>
        <div id="review-order-status" style="margin-top:8px;font-size:13px;"></div>
      </form>
    </div>
  </div>

</body>
</html>
